{% comment %}
  Hey there! This snippet is managed by Locksmith (uselocksmith.com). You can
  fiddle with what's below, but your changes will be reset the next time that
  Locksmith interacts with your shop.

  Last updated: Tue, 13 Sep 2016 04:24:52 +0000
  Integration version: v4.8
{% endcomment %}

{%capture _%}{%capture original_content_for_header%}{{content_for_header}}{%endcapture%}{%capture original_content_for_layout%}{{content_for_layout}}{%endcapture%}{%assign locksmith_scope = nil%}{%include 'locksmith-variables'%}{%if locksmith_access_denied and locksmith_server_rendered != true%}{%if locksmith_manual_lock%}{%unless locksmith_access_denied_content%}{%assign locksmith_access_denied_content = content_for_layout%}{%endunless%}{%endif%}{%if locksmith_server_lock%}{%unless locksmith_access_denied_content%}{%capture locksmith_access_denied_content%}
          <p style="margin: 20px; text-align: center;">
            Loading&hellip;
            <noscript><b>This content requires Javascript to be enabled in your browser!</b></noscript>
          </p>
{%endcapture%}{%endunless%}{%endif%}{%endif%}{%include 'locksmith-content-variables'%}{%assign locksmith_scope = nil%}{%include 'locksmith-variables'%}{%if locksmith_access_denied%}{%capture content_for_header%}{{content_for_header|replace:'.oembed', ''|replace:'.atom', ''|replace:'link rel="alternate" type="application/json+oembed"', 'link'|replace:' title="Feed" rel="alternate" type="application/atom+xml"', ''}}{%endcapture%}{%if locksmith_manual_lock == false%}{%capture content_for_header%}{{content_for_header}}<meta name="robots" content="noindex" />{%endcapture%}{%endif%}{%endif%}{%capture content_for_layout%}{%if locksmith_access_granted%}{{original_content_for_layout}}{%else%}{{locksmith_access_denied_content}}{%endif%}{{locksmith_json}}
    <script type="text/javascript">!function(){try{var e=document.querySelector('script[type="application/vnd.locksmith+json"]'),t=e&&e.innerHTML;if(!t)return;if(window.__locksmith_debug=JSON.parse(t),!document.addEventListener||!document.querySelector)return;var n,o,r,d=[76,79,67,75,83,77,73,84,72,49,49],i=function(){o=d.slice(0)},c="style",a=function(e){e&&27!==e.keyCode&&"click"!==e.type||(document.removeEventListener("keydown",a),document.removeEventListener("click",a),n&&document.body.removeChild(n),n=null)};i(),document.addEventListener("keyup",function(e){if(e.keyCode===o[0]){if(clearTimeout(r),o.shift(),o.length>0)return void(r=setTimeout(i,1e3));i(),a(),n=document.createElement("div"),n[c].width="50%",n[c].maxWidth="500px",n[c].height="35%",n[c].border="1px rgba(0, 0, 0, 0.2) solid",n[c].background="rgba(255, 255, 255, 0.99)",n[c].borderRadius="2px",n[c].position="fixed",n[c].top="50%",n[c].left="50%",n[c].transform="translateY(-50%) translateX(-50%)",n[c].boxShadow="0 2px 5px rgba(0, 0, 0, 0.3), 0 0 100px 500px rgba(255, 255, 255, 0.87)",n[c].zIndex="2147483645";var d=document.createElement("textarea");d.value=t,d[c].border="none",d[c].display="block",d[c].boxSizing="border-box",d[c].width="100%",d[c].height="100%",d[c].background="transparent",d[c].padding="10px",d[c].fontFamily="monospace",d[c].fontSize="13px",d[c].color="#333",d[c].resize="none",d[c].outline="none",d.readOnly=!0,n.appendChild(d),d.addEventListener("click",function(e){e.stopImmediatePropagation(),d.select()}),document.body.appendChild(n),d.select(),document.addEventListener("keydown",a),document.addEventListener("click",a)}})}catch(l){console.error("locksmith",l)}}();</script>
{%if locksmith_server_rendered%}
      <!--[if lte IE 8]>
          <script type="text/javascript">
            Array.prototype.forEach||(Array.prototype.forEach=function(a){"use strict";if(void 0===this||null===this||"function"!=typeof a)throw new TypeError;for(var b=Object(this),c=b.length>>>0,d=arguments.length>=2?arguments[1]:void 0,e=0;c>e;e++)e in b&&a.call(d,b[e],e,b)}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){if(null===this)throw new TypeError(" this is null or not defined");if("function"!=typeof a)throw new TypeError(a+" is not a function");for(var c=Object(this),d=c.length>>>0,e=0;d>e;e++)e in c&&a.call(b,c[e],e,c)}),function(a,b){function c(a){var c=b[a];b[a]=function(a){return e(c(a))}}function d(b,c,d){return(d=this).attachEvent("on"+b,function(b){b=b||a.event,b.preventDefault=b.preventDefault||function(){b.returnValue=!1},b.stopPropagation=b.stopPropagation||function(){b.cancelBubble=!0},c.call(d,b)})}function e(a,b){if(b=a.length)for(;b--;)a[b].addEventListener=d;else a.addEventListener=d;return a}a.addEventListener||(e([b,a]),"Element"in a?a.Element.prototype.addEventListener=d:(b.attachEvent("onreadystatechange",function(){e(b.all)}),c("getElementsByTagName"),c("getElementById"),c("createElement"),e(b.all)))}(window,document);
          </script>
      <![endif]-->
      <script type="text/javascript">!function(){/*! iFrame Resizer (iframeSizer.contentWindow.min.js) - v3.5.1 - 2015-11-04
   *  Desc: Include this file in any page being loaded into an iframe
   *        to force the iframe to resize to the content size.
   *  Requires: iframeResizer.min.js on host page.
   *  Copyright: (c) 2015 David J. Bradshaw - dave@bradshaw.net
   *  License: MIT
   */
!function(e){"use strict";function t(t,n,o){"addEventListener"in e?t.addEventListener(n,o,!1):"attachEvent"in e&&t.attachEvent("on"+n,o)}function n(t,n,o){"removeEventListener"in e?t.removeEventListener(n,o,!1):"detachEvent"in e&&t.detachEvent("on"+n,o)}function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function i(e){var t,n,o,i=null,r=0,a=function(){r=Ae(),i=null,o=e.apply(t,n),i||(t=n=null)};return function(){var c=Ae();r||(r=c);var u=Se-(c-r);return t=this,n=arguments,0>=u||u>Se?(i&&(clearTimeout(i),i=null),r=c,o=e.apply(t,n),i||(t=n=null)):i||(i=setTimeout(a,u)),o}}function r(e){return fe+"["+he+"] "+e}function a(t){se&&"object"==typeof e.console&&console.log(r(t))}function c(t){"object"==typeof e.console&&console.warn(r(t))}function u(){l(),a("Initialising iFrame ("+location.href+")"),d(),m(),f("background",K),f("padding",G),M(),y(),b(),h(),k(),T(),ue=N(),D("init","Init message from host page"),Ce()}function l(){function e(e){return"true"===e?!0:!1}var t=ce.substr(me).split(":");he=t[0],X=void 0!==t[1]?Number(t[1]):X,Z=void 0!==t[2]?e(t[2]):Z,se=void 0!==t[3]?e(t[3]):se,le=void 0!==t[4]?Number(t[4]):le,U=void 0!==t[6]?e(t[6]):U,Y=t[7],re=void 0!==t[8]?t[8]:re,K=t[9],G=t[10],Te=void 0!==t[11]?Number(t[11]):Te,ue.enable=void 0!==t[12]?e(t[12]):!1,ge=void 0!==t[13]?t[13]:ge,Me=void 0!==t[14]?t[14]:Me}function d(){function t(){var t=e.iFrameResizer;a("Reading data from page: "+JSON.stringify(t)),ke="messageCallback"in t?t.messageCallback:ke,Ce="readyCallback"in t?t.readyCallback:Ce,be="targetOrigin"in t?t.targetOrigin:be,re="heightCalculationMethod"in t?t.heightCalculationMethod:re,Me="widthCalculationMethod"in t?t.widthCalculationMethod:Me}"iFrameResizer"in e&&Object===e.iFrameResizer.constructor&&t(),a("TargetOrigin for parent set to: "+be)}function s(e,t){return-1!==t.indexOf("-")&&(c("Negative CSS value ignored for "+e),t=""),t}function f(e,t){void 0!==t&&""!==t&&"null"!==t&&(document.body.style[e]=t,a("Body "+e+' set to "'+t+'"'))}function m(){void 0===Y&&(Y=X+"px"),f("margin",s("margin",Y))}function h(){document.documentElement.style.height="",document.body.style.height="",a('HTML & body height set to "auto"')}function p(i){function r(){D(i.eventName,i.eventType)}var c={add:function(n){t(e,n,r)},remove:function(t){n(e,t,r)}};i.eventNames&&Array.prototype.map?(i.eventName=i.eventNames[0],i.eventNames.map(c[i.method])):c[i.method](i.eventName),a(o(i.method)+" event listener: "+i.eventType)}function g(e){p({method:e,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),p({method:e,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),p({method:e,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),p({method:e,eventType:"Input",eventName:"input"}),p({method:e,eventType:"Mouse Up",eventName:"mouseup"}),p({method:e,eventType:"Mouse Down",eventName:"mousedown"}),p({method:e,eventType:"Orientation Change",eventName:"orientationchange"}),p({method:e,eventType:"Touch Start",eventName:"touchstart"}),p({method:e,eventType:"Touch End",eventName:"touchend"}),p({method:e,eventType:"Touch Cancel",eventName:"touchcancel"}),p({method:e,eventType:"Print",eventName:["afterprint","beforeprint"]}),p({method:e,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),p({method:e,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),p({method:e,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===ge&&p({method:e,eventType:"IFrame Resized",eventName:"resize"})}function v(e,t,n,o){return t!==e&&(e in n||(c(e+" is not a valid option for "+o+"CalculationMethod."),e=t),a(o+' calculation method set to "'+e+'"')),e}function y(){re=v(re,ie,ze,"height")}function b(){Me=v(Me,Ie,Le,"width")}function T(){!0===U?(g("add"),A()):a("Auto Resize disabled")}function E(){a("Disable outgoing messages"),ve=!1}function w(){a("Remove event listener: Message"),n(e,"message",V)}function S(){null!==$&&$.disconnect()}function O(){g("remove"),S(),clearInterval(de)}function I(){E(),w(),!0===U&&O()}function M(){var e=document.createElement("div");e.style.clear="both",e.style.display="block",document.body.appendChild(e)}function N(){function n(){return{x:void 0!==e.pageXOffset?e.pageXOffset:document.documentElement.scrollLeft,y:void 0!==e.pageYOffset?e.pageYOffset:document.documentElement.scrollTop}}function o(e){var t=e.getBoundingClientRect(),o=n();return{x:parseInt(t.left,10)+parseInt(o.x,10),y:parseInt(t.top,10)+parseInt(o.y,10)}}function i(e){function t(e){var t=o(e);a("Moving to in page link (#"+n+") at x: "+t.x+" y: "+t.y),W(t.y,t.x,"scrollToOffset")}var n=e.split("#")[1]||e,i=decodeURIComponent(n),r=document.getElementById(i)||document.getElementsByName(i)[0];void 0!==r?t(r):(a("In page link (#"+n+") not found in iFrame, so sending to parent"),W(0,0,"inPageLink","#"+n))}function r(){""!==location.hash&&"#"!==location.hash&&i(location.href)}function u(){function e(e){function n(e){e.preventDefault(),i(this.getAttribute("href"))}"#"!==e.getAttribute("href")&&t(e,"click",n)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),e)}function l(){t(e,"hashchange",r)}function d(){setTimeout(r,te)}function s(){Array.prototype.forEach&&document.querySelectorAll?(a("Setting up location.hash handlers"),u(),l(),d()):c("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return ue.enable?s():a("In page linking not enabled"),{findTarget:i}}function k(){a("Enable public methods"),Ne.parentIFrame={autoResize:function(e){return!0===e&&!1===U?(U=!0,T()):!1===e&&!0===U&&(U=!1,O()),U},close:function(){W(0,0,"close"),I()},getId:function(){return he},getPageInfo:function(e){"function"==typeof e?(xe=e,W(0,0,"pageInfo")):(xe=e,W(0,0,"pageInfoStop"))},moveToAnchor:function(e){ue.findTarget(e)},reset:function(){B("parentIFrame.reset")},scrollTo:function(e,t){W(t,e,"scrollTo")},scrollToOffset:function(e,t){W(t,e,"scrollToOffset")},sendMessage:function(e,t){W(0,0,"message",JSON.stringify(e),t)},setHeightCalculationMethod:function(e){re=e,y()},setWidthCalculationMethod:function(e){Me=e,b()},setTargetOrigin:function(e){a("Set targetOrigin: "+e),be=e},size:function(e,t){var n=""+(e?e:"")+(t?","+t:"");D("size","parentIFrame.size("+n+")",e,t)}}}function C(){0!==le&&(a("setInterval: "+le+"ms"),de=setInterval(function(){D("interval","setInterval: "+le)},Math.abs(le)))}function x(){function t(e){function t(e){!1===e.complete&&(a("Attach listeners to "+e.src),e.addEventListener("load",r,!1),e.addEventListener("error",c,!1),d.push(e))}"attributes"===e.type&&"src"===e.attributeName?t(e.target):"childList"===e.type&&Array.prototype.forEach.call(e.target.querySelectorAll("img"),t)}function n(e){d.splice(d.indexOf(e),1)}function o(e){a("Remove listeners from "+e.src),e.removeEventListener("load",r,!1),e.removeEventListener("error",c,!1),n(e)}function i(e,t,n){o(e.target),D(t,n+": "+e.target.src,void 0,void 0)}function r(e){i(e,"imageLoad","Image loaded")}function c(e){i(e,"imageLoadFailed","Image load failed")}function u(e){D("mutationObserver","mutationObserver: "+e[0].target+" "+e[0].type),e.forEach(t)}function l(){var e=document.querySelector("body"),t={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};return f=new s(u),a("Create body MutationObserver"),f.observe(e,t),f}var d=[],s=e.MutationObserver||e.WebKitMutationObserver,f=l();return{disconnect:function(){"disconnect"in f&&(a("Disconnect body MutationObserver"),f.disconnect(),d.forEach(o))}}}function A(){var t=0>le;e.MutationObserver||e.WebKitMutationObserver?t?C():$=x():(a("MutationObserver not supported in this browser!"),C())}function z(e,t){function n(e){var n=/^\d+(px)?$/i;if(n.test(e))return parseInt(e,Q);var o=t.style.left,i=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=e||0,e=t.style.pixelLeft,t.style.left=o,t.runtimeStyle.left=i,e}var o=0;return t=t||document.body,"defaultView"in document&&"getComputedStyle"in document.defaultView?(o=document.defaultView.getComputedStyle(t,null),o=null!==o?o[e]:0):o=n(t.currentStyle[e]),parseInt(o,Q)}function L(e){e>Se/2&&(Se=2*e,a("Event throttle increased to "+Se+"ms"))}function R(e,t){for(var n=t.length,i=0,r=0,c=o(e),u=Ae(),l=0;n>l;l++)i=t[l].getBoundingClientRect()[e]+z("margin"+c,t[l]),i>r&&(r=i);return u=Ae()-u,a("Parsed "+n+" HTML elements"),a("Element position calculated in "+u+"ms"),L(u),r}function F(e){return[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll()]}function P(e,t){function n(){return c("No tagged elements ("+t+") found on page"),oe}var o=document.querySelectorAll("["+t+"]");return 0===o.length?n():R(e,o)}function _(){return document.querySelectorAll("body *")}function q(e,t,n,o){function i(){oe=s,Oe=f,W(oe,Oe,e)}function r(){function e(e,t){var n=Math.abs(e-t)<=Te;return!n}return s=void 0!==n?n:ze[re](),f=void 0!==o?o:Le[Me](),e(oe,s)||Z&&e(Oe,f)}function c(){return!(e in{init:1,interval:1,size:1})}function u(){return re in pe||Z&&Me in pe}function l(){a("No change in size detected")}function d(){c()&&u()?B(t):e in{interval:1}||l()}var s,f;r()||"init"===e?(j(),i()):d()}function D(e,t,n,o){function i(){e in{reset:1,resetPage:1,init:1}||a("Trigger event: "+t)}function r(){return Ee&&e in ee}r()?a("Trigger event cancelled: "+e):(i(),Re(e,t,n,o))}function j(){Ee||(Ee=!0,a("Trigger event lock on")),clearTimeout(we),we=setTimeout(function(){Ee=!1,a("Trigger event lock off"),a("--")},te)}function H(e){oe=ze[re](),Oe=Le[Me](),W(oe,Oe,e)}function B(e){var t=re;re=ie,a("Reset trigger event: "+e),j(),H("reset"),re=t}function W(e,t,n,o,i){function r(){void 0===i?i=be:a("Message targetOrigin: "+i)}function c(){var r=e+":"+t,c=he+":"+r+":"+n+(void 0!==o?":"+o:"");a("Sending message to host page ("+c+")"),ye.postMessage(fe+c,i)}!0===ve&&(r(),c())}function V(t){function n(){return fe===(""+t.data).substr(0,me)}function o(){ce=t.data,ye=t.source,u(),ne=!1,setTimeout(function(){ae=!1},te)}function i(){ae?a("Page reset ignored by init"):(a("Page size reset by host page"),H("resetPage"))}function r(){D("resizeParent","Parent window requested size check")}function l(){var e=s();ue.findTarget(e)}function d(){return t.data.split("]")[1].split(":")[0]}function s(){return t.data.substr(t.data.indexOf(":")+1)}function f(){return"iFrameResize"in e}function m(){var e=s();a("MessageCallback called from parent: "+e),ke(JSON.parse(e)),a(" --")}function h(){var e=s();a("PageInfoFromParent called from parent: "+e),xe(JSON.parse(e)),a(" --")}function p(){return t.data.split(":")[2]in{"true":1,"false":1}}function g(){switch(d()){case"reset":i();break;case"resize":r();break;case"moveToAnchor":l();break;case"message":m();break;case"pageInfo":h();break;default:f()||p()||c("Unexpected message ("+t.data+")")}}function v(){!1===ne?g():p()?o():a('Ignored message of type "'+d()+'". Received before initialization.')}n()&&v()}function J(){"loading"!==document.readyState&&e.parent.postMessage("[iFrameResizerChild]Ready","*")}var U=!0,Q=10,K="",X=0,Y="",$=null,G="",Z=!1,ee={resize:1,click:1},te=128,ne=!0,oe=1,ie="bodyOffset",re=ie,ae=!0,ce="",ue={},le=32,de=null,se=!1,fe="[iFrameSizer]",me=fe.length,he="",pe={max:1,min:1,bodyScroll:1,documentElementScroll:1},ge="child",ve=!0,ye=e.parent,be="*",Te=0,Ee=!1,we=null,Se=16,Oe=1,Ie="scroll",Me=Ie,Ne=e,ke=function(){c("MessageCallback function not defined")},Ce=function(){},xe=function(){},Ae=Date.now||function(){return(new Date).getTime()},ze={bodyOffset:function(){return document.body.offsetHeight+z("marginTop")+z("marginBottom")},offset:function(){return ze.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,F(ze))},min:function(){return Math.min.apply(null,F(ze))},grow:function(){return ze.max()},lowestElement:function(){return Math.max(ze.bodyOffset(),R("bottom",_()))},taggedElement:function(){return P("bottom","data-iframe-height")}},Le={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(Le.bodyScroll(),Le.documentElementScroll())},max:function(){return Math.max.apply(null,F(Le))},min:function(){return Math.min.apply(null,F(Le))},rightMostElement:function(){return R("right",_())},taggedElement:function(){return P("right","data-iframe-width")}},Re=i(q);t(e,"message",V),J()}(window||{});var e=function(){try{var e,t,n,o=[],i=[];if(document.querySelectorAll?(o=document.querySelectorAll("a"),i=document.querySelectorAll("form")):"function"==typeof jQuery&&(o=jQuery('a[href=""]'),i=jQuery("form")),window.parent!==window){for(var r=0;r<o.length;r++)e=o[r],t=e.getAttribute("href"),null===t||(""===t?e.href=window.parent.location.pathname:t.match(/^#/)?e.target="_self":e.pathname===window.location.pathname&&(e.pathname=window.parent.location.pathname)),e.target||null===t||(e.target="_parent");for(var a=0;a<i.length;a++)n=i[a],"locksmith-passcode-form"!==n.id&&"locksmith-email-form"!==n.id&&(n.target||(n.target="_parent"))}else{var c="{{locksmith_path}}";c&&(window.location=c)}var u=document.getElementById("admin_bar_iframe");u&&(u.remove(),document.body.parentElement.style.paddingTop=0),document.getElementById("infiniteoptions-container")&&(window.IS_SHOPPAD=!0);var l=document.createElement("style");l.appendChild(document.createTextNode(".mfp-container { max-height: "+window.parent.innerHeight+"px; }")),document.head.appendChild(l);var d=["#tidio-chat-side-button","#livechat-compact-container","#livechat-full","#someone-purchased",".sweettooth-tab",".zopim","#ju_bbox"];window.__locksmith_debug.access_granted&&d.push("#qab_bar");var s=document.createElement("style");s.appendChild(document.createTextNode(d.join(", ")+" { z-index: 2147483646 !important; }")),window.parent.document.head.appendChild(s);var f=document.createElement("style");f.appendChild(document.createTextNode(d.join(", ")+" { display: none !important; }")),document.head.appendChild(f)}catch(m){console.error&&console.error(m)}};window.addEventListener&&window.addEventListener("load",e)}();</script>
      <style type="text/css">
        /* these are displayed in the parent frame; no need to display them here */
        #admin_bar_iframe {
          display: none;
        }
        /* some themes like to set height:100%; for html and body, which screws up the iframe sizing */
        html, body {
          height: auto;
          min-height: 100%;
          overflow: auto;
        }
      </style>
{%else%}{%if locksmith_server_lock%}
        <script type="text/javascript">!function(){/*! iFrame Resizer (iframeSizer.min.js ) - v3.5.1 - 2015-11-04
   *  Desc: Force cross domain iframes to size to content.
   *  Requires: iframeResizer.contentWindow.min.js to be loaded into the target frame.
   *  Copyright: (c) 2015 David J. Bradshaw - dave@bradshaw.net
   *  License: MIT
   */
!function(e){"use strict";function n(n,t,i){"addEventListener"in e?n.addEventListener(t,i,!1):"attachEvent"in e&&n.attachEvent("on"+t,i)}function t(n,t,i){"removeEventListener"in e?n.removeEventListener(t,i,!1):"detachEvent"in e&&n.detachEvent("on"+t,i)}function i(){var n,t=["moz","webkit","o","ms"];for(n=0;n<t.length&&!A;n+=1)A=e[t[n]+"RequestAnimationFrame"];A||c("setup","RequestAnimationFrame not supported")}function o(n){var t="Host page: "+n;return e.top!==e.self&&(t=e.parentIFrame&&e.parentIFrame.getId?e.parentIFrame.getId()+": "+n:"Nested host page: "+n),t}function r(e){return S+"["+o(e)+"]"}function a(e){return q[e]?q[e].log:T}function c(e,n){l("log",e,n,a(e))}function s(e,n){l("info",e,n,a(e))}function u(e,n){l("warn",e,n,!0)}function l(n,t,i,o){!0===o&&"object"==typeof e.console&&console[n](r(t),i)}function f(i){function o(){function e(){y(X),h(G)}a("Height"),a("Width"),w(e,X,"init")}function r(){var e=D.substr(L).split(":");return{iframe:q[e[0]].iframe,id:e[0],height:e[1],width:e[2],type:e[3]}}function a(e){var n=Number(q[G]["max"+e]),t=Number(q[G]["min"+e]),i=e.toLowerCase(),o=Number(X[i]);c(G,"Checking "+i+" is in range "+t+"-"+n),t>o&&(o=t,c(G,"Set "+i+" to min value")),o>n&&(o=n,c(G,"Set "+i+" to max value")),X[i]=""+o}function l(){function e(){function e(){var e=0,i=!1;for(c(G,"Checking connection is from allowed list of origins: "+t);e<t.length;e++)if(t[e]===n){i=!0;break}return i}function i(){var e=q[G].remoteHost;return c(G,"Checking connection is from: "+e),n===e}return t.constructor===Array?e():i()}var n=i.origin,t=q[G].checkOrigin;if(t&&""+n!="null"&&!e())throw new Error("Unexpected message received from: "+n+" for "+X.iframe.id+". Message was: "+i.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function f(){return S===(""+D).substr(0,L)&&D.substr(L).split(":")[0]in q}function x(){var e=X.type in{"true":1,"false":1,undefined:1};return e&&c(G,"Ignoring init message from meta parent page"),e}function E(e){return D.substr(D.indexOf(":")+W+e)}function F(e){c(G,"MessageCallback passed: {iframe: "+X.iframe.id+", message: "+e+"}"),A("messageCallback",{iframe:X.iframe,message:JSON.parse(e)}),c(G,"--")}function M(){var n=document.body.getBoundingClientRect(),t=X.iframe.getBoundingClientRect();return JSON.stringify({clientHeight:Math.max(document.documentElement.clientHeight,e.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,e.innerWidth||0),offsetTop:parseInt(t.top-n.top,10),offsetLeft:parseInt(t.left-n.left,10),scrollTop:e.pageYOffset,scrollLeft:e.pageXOffset})}function z(e,n){function t(){v("Send Page Info","pageInfo:"+M(),e,n)}I(t,32)}function C(){function i(n,t){function i(){q[a]?z(q[a].iframe,a):o()}["scroll","resize"].forEach(function(o){c(a,n+o+" listener for sendPageInfo"),t(e,o,i)})}function o(){i("Remove ",t)}function r(){i("Add ",n)}var a=G;r(),q[a].stopPageInfo=o}function R(){q[G]&&q[G].stopPageInfo&&(q[G].stopPageInfo(),delete q[G].stopPageInfo)}function _(){var e=!0;return null===X.iframe&&(u(G,"IFrame ("+X.id+") not found"),e=!1),e}function O(e){var n=e.getBoundingClientRect();return g(G),{x:Math.floor(Number(n.left)+Number(P.x)),y:Math.floor(Number(n.top)+Number(P.y))}}function T(n){function t(){P=a,H(),c(G,"--")}function i(){return{x:Number(X.width)+r.x,y:Number(X.height)+r.y}}function o(){e.parentIFrame?e.parentIFrame["scrollTo"+(n?"Offset":"")](a.x,a.y):u(G,"Unable to scroll to requested position, window.parentIFrame not found")}var r=n?O(X.iframe):{x:0,y:0},a=i();c(G,"Reposition requested from iFrame (offset x:"+r.x+" y:"+r.y+")"),e.top!==e.self?o():t()}function H(){!1!==A("scrollCallback",P)?h(G):p()}function N(n){function t(){var e=O(a);c(G,"Moving to in page link (#"+o+") at x: "+e.x+" y: "+e.y),P={x:e.x,y:e.y},H(),c(G,"--")}function i(){e.parentIFrame?e.parentIFrame.moveToAnchor(o):c(G,"In page link #"+o+" not found and window.parentIFrame not found")}var o=n.split("#")[1]||"",r=decodeURIComponent(o),a=document.getElementById(r)||document.getElementsByName(r)[0];a?t():e.top!==e.self?i():c(G,"In page link #"+o+" not found")}function A(e,n){return d(G,e,n)}function j(){switch(q[G].firstRun&&J(),X.type){case"close":m(X.iframe);break;case"message":F(E(6));break;case"scrollTo":T(!1);break;case"scrollToOffset":T(!0);break;case"pageInfo":z(q[G].iframe,G),C();break;case"pageInfoStop":R();break;case"inPageLink":N(E(9));break;case"reset":b(X);break;case"init":o(),A("initCallback",X.iframe),A("resizedCallback",X);break;default:o(),A("resizedCallback",X)}}function B(e){var n=!0;return q[e]||(n=!1,u(X.type+" No settings for "+e+". Message was: "+D)),n}function V(){for(var e in q)v("iFrame requested init",k(e),document.getElementById(e),e)}function J(){q[G].firstRun=!1}var D=i.data,X={},G=null;"[iFrameResizerChild]Ready"===D?V():f()?(X=r(),G=U=X.id,!x()&&B(G)&&(c(G,"Received: "+D),_()&&l()&&j())):s(G,"Ignored: "+D)}function d(e,n,t){var i=null,o=null;if(q[e]){if(i=q[e][n],"function"!=typeof i)throw new TypeError(n+" on iFrame["+e+"] is not a function");o=i(t)}return o}function m(e){var n=e.id;c(n,"Removing iFrame: "+n),e.parentNode.removeChild(e),d(n,"closedCallback",n),c(n,"--"),delete q[n]}function g(n){null===P&&(P={x:void 0!==e.pageXOffset?e.pageXOffset:document.documentElement.scrollLeft,y:void 0!==e.pageYOffset?e.pageYOffset:document.documentElement.scrollTop},c(n,"Get page position: "+P.x+","+P.y))}function h(n){null!==P&&(e.scrollTo(P.x,P.y),c(n,"Set page position: "+P.x+","+P.y),p())}function p(){P=null}function b(e){function n(){y(e),v("reset","reset",e.iframe,e.id)}c(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),g(e.id),w(n,e,"reset")}function y(e){function n(n){e.iframe.style[n]=e[n]+"px",c(e.id,"IFrame ("+o+") "+n+" set to "+e[n]+"px")}function t(n){H||"0"!==e[n]||(H=!0,c(o,"Hidden iFrame detected, creating visibility listener"),E())}function i(e){n(e),t(e)}var o=e.iframe.id;q[o]&&(q[o].sizeHeight&&i("height"),q[o].sizeWidth&&i("width"))}function w(e,n,t){t!==n.type&&A?(c(n.id,"Requesting animation frame"),A(e)):e()}function v(e,n,t,i){function o(){var o=q[i].targetOrigin;c(i,"["+e+"] Sending msg to iframe["+i+"] ("+n+") targetOrigin: "+o),t.contentWindow.postMessage(S+n,o)}function r(){s(i,"["+e+"] IFrame("+i+") not found"),q[i]&&delete q[i]}function a(){t&&"contentWindow"in t&&null!==t.contentWindow?o():r()}i=i||t.id,q[i]&&a()}function k(e){return e+":"+q[e].bodyMarginV1+":"+q[e].sizeWidth+":"+q[e].log+":"+q[e].interval+":"+q[e].enablePublicMethods+":"+q[e].autoResize+":"+q[e].bodyMargin+":"+q[e].heightCalculationMethod+":"+q[e].bodyBackground+":"+q[e].bodyPadding+":"+q[e].tolerance+":"+q[e].inPageLinks+":"+q[e].resizeFrom+":"+q[e].widthCalculationMethod}function x(e,t){function i(){function n(n){1/0!==q[x][n]&&0!==q[x][n]&&(e.style[n]=q[x][n]+"px",c(x,"Set "+n+" = "+q[x][n]+"px"))}function t(e){if(q[x]["min"+e]>q[x]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}t("Height"),t("Width"),n("maxHeight"),n("minHeight"),n("maxWidth"),n("minWidth")}function o(){var e=t&&t.id||V.id+O++;return null!==document.getElementById(e)&&(e+=O++),e}function r(n){return U=n,""===n&&(e.id=n=o(),T=(t||{}).log,U=n,c(n,"Added missing iframe ID: "+n+" ("+e.src+")")),n}function a(){c(x,"IFrame scrolling "+(q[x].scrolling?"enabled":"disabled")+" for "+x),e.style.overflow=!1===q[x].scrolling?"hidden":"auto",e.scrolling=!1===q[x].scrolling?"no":"yes"}function s(){("number"==typeof q[x].bodyMargin||"0"===q[x].bodyMargin)&&(q[x].bodyMarginV1=q[x].bodyMargin,q[x].bodyMargin=""+q[x].bodyMargin+"px")}function l(){var n=q[x].firstRun,t=q[x].heightCalculationMethod in j;!n&&t&&b({iframe:e,height:0,width:0,type:"init"})}function f(){Function.prototype.bind&&(q[x].iframe.iFrameResizer={close:m.bind(null,q[x].iframe),resize:v.bind(null,"Window resize","resize",q[x].iframe),moveToAnchor:function(e){v("Move to anchor","inPageLink:"+e,q[x].iframe,x)},sendMessage:function(e){e=JSON.stringify(e),v("Send Message","message:"+e,q[x].iframe,x)}})}function d(t){function i(){v("iFrame.onload",t,e),l()}n(e,"load",i),v("init",t,e)}function g(e){if("object"!=typeof e)throw new TypeError("Options is not an object")}function h(e){for(var n in V)V.hasOwnProperty(n)&&(q[x][n]=e.hasOwnProperty(n)?e[n]:V[n])}function p(e){return""===e||"file://"===e?"*":e}function y(n){n=n||{},q[x]={firstRun:!0,iframe:e,remoteHost:e.src.split("/").slice(0,3).join("/")},g(n),h(n),q[x].targetOrigin=!0===q[x].checkOrigin?p(q[x].remoteHost):"*"}function w(){return x in q&&"iFrameResizer"in e}var x=r(e.id);w()?u(x,"Ignored iFrame, already setup."):(y(t),a(),i(),s(),d(k(x)),f())}function I(e,n){null===B&&(B=setTimeout(function(){B=null,e()},n))}function E(){function n(){function e(e){function n(n){return"0px"===q[e].iframe.style[n]}function t(e){return null!==e.offsetParent}t(q[e].iframe)&&(n("height")||n("width"))&&v("Visibility change","resize",q[e].iframe,e)}for(var n in q)e(n)}function t(e){c("window","Mutation observed: "+e[0].target+" "+e[0].type),I(n,16)}function i(){var e=document.querySelector("body"),n={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},i=new o(t);i.observe(e,n)}var o=e.MutationObserver||e.WebKitMutationObserver;o&&i()}function F(e){function n(){z("Window "+e,"resize")}c("window","Trigger event: "+e),I(n,16)}function M(){function e(){z("Tab Visable","resize")}"hidden"!==document.visibilityState&&(c("document","Trigger event: Visiblity change"),I(e,16))}function z(e,n){function t(e){return"parent"===q[e].resizeFrom&&q[e].autoResize&&!q[e].firstRun}for(var i in q)t(i)&&v(e,n,document.getElementById(i),i)}function C(){n(e,"message",f),n(e,"resize",function(){F("resize")}),n(document,"visibilitychange",M),n(document,"-webkit-visibilitychange",M),n(e,"focusin",function(){F("focus")}),n(e,"focus",function(){F("focus")})}function R(){function e(e,t){function i(){if(!t.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==t.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">")}t&&(i(),x(t,e),n.push(t))}var n;return i(),C(),function(t,i){switch(n=[],typeof i){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(i||"iframe"),e.bind(void 0,t));break;case"object":e(t,i);break;default:throw new TypeError("Unexpected data type ("+typeof i+")")}return n}}function _(e){e.fn.iFrameResize=function(e){return this.filter("iframe").each(function(n,t){x(t,e)}).end()}}var O=0,T=!1,H=!1,N="message",W=N.length,S="[iFrameSizer]",L=S.length,P=null,A=e.requestAnimationFrame,j={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},q={},B=null,U="Host Page",V={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){u("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};e.jQuery&&_(jQuery),"function"==typeof define&&define.amd?define([],R):"object"==typeof module&&"object"==typeof module.exports?module.exports=R():e.iFrameResize=e.iFrameResize||R()}(window||{});var e=function(e){return(document.cookie.match("(^|; )"+e+"=([^;]*)")||0)[2]},n=function(){try{return JSON.parse(e("locksmith-params")||"{}")}catch(n){return{}}},t=n(),i=[];for(var o in t)i.push(o+"="+t[o]);var r="{{locksmith_path}}",a=document.createElement("iframe");a.sandbox="allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation";var c="style";if(a.src="/apps/locksmith/resource"+(window.location.pathname||"/")+(window.location.search||"?")+"&path="+encodeURIComponent(r||window.location.pathname)+"&search="+encodeURIComponent(window.location.search)+"&customer_id="+encodeURIComponent("{{customer.id}}")+"&customer_email="+encodeURIComponent("{{customer.email}}")+(i?"&"+i.join("&"):""),a[c].border="none",a[c].display="block",a[c].zIndex="2147483645",a[c].position="absolute",a[c].width="1px",a[c].minWidth="100%",a[c].height=a[c].minHeight="100%",a[c].top="0",a[c].right="0",a[c].left="0",a[c].transition="0.2s opacity",a[c].animation="ease-in-out",a.setAttribute("allowFullScreen",""),window.__locksmith_debug.manual_lock&&window.__locksmith_debug.access_denied){a[c].display="none",a[c].opacity="0",window.__locksmith_show_frame=function(){a[c].display="block",setTimeout(function(){a[c].opacity="1"},10)},window.__locksmith_hide_frame=function(){a[c].opacity="0",setTimeout(function(){a[c].display="none"},200)};var s=function(e){-1!==e.target.className.split(/\s+/).indexOf("locksmith-manual-trigger")&&(window.__locksmith_show_frame(),e.preventDefault())};document.body.attachEvent?document.body.attachEvent("click",s):document.body.addEventListener("click",s,!1)}var u=function(){document.body.appendChild(a);try{iFrameResize({log:!1,inPageLinks:!0,minHeight:document.body.scrollHeight,heightCalculationMethod:"lowestElement"},a)}catch(e){console.error("locksmith",e)}},l=new XMLHttpRequest;l.addEventListener("load",function(){a.src=a.src+"&token="+this.responseText,u()}),l.open("GET","https://uselocksmith.com/proxy/token?shop={{shop.permanent_domain}}"),l.send();var f=function(){a[c].minHeight=""+document.body.scrollHeight+"px"};window.attachEvent?window.attachEvent("onload",f):window.addEventListener("load",f,!1);var d=function(){if(window.location.hash||window.scrollTo(0,0),!a.contentWindow.location.pathname.match(/^\/apps\/locksmith/))return void(window.location.href=a.contentWindow.location.href);var e=a.contentWindow.__locksmith_debug;e&&e.manual_lock&&e.access_granted&&window.__locksmith_show_frame()};a.attachEvent?a.attachEvent("onload",d):a.addEventListener("load",d,!1),window.__lsp=function(e){var t=n();for(var i in e)t[i]=e[i];document.cookie="locksmith-params=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",document.cookie="locksmith-params="+JSON.stringify(t)+"; path=/"}}();</script>
{%endif%}{%endif%}{%endcapture%}{%endcapture%}