{% comment %}
  Hey there! This snippet is managed by Locksmith (uselocksmith.com). You can
  fiddle with what's below, but your changes will be reset the next time that
  Locksmith interacts with your shop.

  Last updated: Fri, 16 Sep 2016 08:56:43 +0000
  Integration version: v4.8
{% endcomment %}

{%assign _g = shop%}{%assign _d = theme%}{%assign _i = link%}{%assign _5 = linklist%}{%assign _j = cart%}{%assign _h = page%}{%assign _9 = article%}{%assign _k = blog%}{%assign _3 = collection%}{%assign _7 = variant%}{%assign _8 = product%}{%assign _4 = template%}{%capture _%}{%assign _t = nil%}{%assign _s = false%}{%assign _b = true%}{%assign _f = false%}{%assign _n = false%}{%assign _m = false%}{%assign _e = false%}{%assign _0 = false%}{%assign _l = 'resource'%}{%assign _p = ''%}{%assign _a = ''%}{%assign _r = ''%}{%assign _o = false%}{%if locksmith_scope and locksmith_scope != 'product_in_collection'%}{%assign _t = locksmith_scope%}{%else%}{%assign _t = _4|split:'/'|first|split:'.'|first%}{%endif%}{%if locksmith_hiding_scope%}{%assign _l = locksmith_hiding_scope%}{%endif%}{%if _t == blank%}{%assign _t = 'app'%}{%endif%}{%if _t == "app" and content_for_layout contains "spof-container"%}{%assign app = "single-page-order-form"%}{%endif%}{%if _t == "app" and content_for_layout contains "sc-shopify-qs-main-container"%}{%assign app = "one-page-quick-shop"%}{%endif%}{%if _t == "app" and content_for_layout contains "get_surrounding_stores.php"%}{%assign app = "store-locator"%}{%endif%}{%if _t == 'subject'%}{%assign _q = locksmith_subject%}{%if _q.price and _q.variants%}{%assign _8 = _q%}{%assign _t = 'product'%}{%elsif _q.inventory_policy%}{%assign _7 = _q%}{%assign _t = 'variant'%}{%elsif _q.all_types and _q.products%}{%assign _3 = _q%}{%assign _t = 'collection'%}{%elsif _q.handle and _q.articles%}{%assign _k = _q%}{%assign _t = 'blog'%}{%elsif _q.content and _q.excerpt and _q.comments%}{%assign _9 = _q%}{%assign _t = 'article'%}{%elsif _q.handle and _q.author%}{%assign _h = _q%}{%assign _t = 'page'%}{%elsif _q.total_price and _q.total_weight%}{%assign _j = _q%}{%assign _t = 'cart'%}{%elsif _q.links and _q.title%}{%assign _5 = _q%}{%assign _t = 'linklist'%}{%elsif _q.type%}{%assign _l = 'link_to_resource'%}{%if _q.type == 'collection_link'%}{%assign _3 = _q.object%}{%assign _t = 'collection'%}{%elsif _q.type == 'product_link'%}{%assign _8 = _q.object%}{%assign _t = 'product'%}{%elsif _q.type == 'page_link'%}{%assign _h = _q.object%}{%assign _t = 'page'%}{%elsif _q.type == 'blog_link'%}{%assign _k = _q.object%}{%assign _t = 'blog'%}{%elsif _q.url == '/collections/all'%}{%assign _3 = collections.all%}{%assign _t = 'collection'%}{%else%}{%assign _l = 'resource'%}{%assign _i = _q%}{%assign _t = 'link'%}{%endif%}{%endif%}{%endif%}{%if _3 and _t == 'product'%}{%assign locksmith_scope = 'product_in_collection'%}{%assign scope = 'product_in_collection'%}{%else%}{%assign locksmith_scope = _t%}{%assign scope = _t%}{%endif%}{%assign _6 = false%}{%assign _1 = false%}{%assign _2 = false%}{%unless _1%}{%assign _2 = true%}{%endunless%}{%if _o%}{%assign _a = _p%}{%assign _m = false%}{%endif%}{%assign locksmith_lock_ids = _p|remove_first:','|split:','%}{%assign locksmith_opened_lock_ids = _a|remove_first:','|split:','%}{%assign locksmith_key_ids = _r|remove_first:','|split:','%}{%if locksmith_lock_ids.size > 0%}{%assign _s = true%}{%unless locksmith_opened_lock_ids == locksmith_lock_ids%}{%assign _b = false%}{%assign _f = true%}{%endunless%}{%if _6 and _2%}{%assign _b = false%}{%assign _f = true%}{%endif%}{%endif%}{%assign locksmith_locked = _s%}{%unless locksmith_scope%}{%assign locksmith_scope = _t%}{%endunless%}{%assign locksmith_access_granted = _b%}{%assign locksmith_access_denied = _f%}{%assign locksmith_manual_lock = _n%}{%assign locksmith_server_lock = _m%}{%assign locksmith_hide_resource = _e%}{%assign locksmith_hide_links_to_resource = _0%}{%assign locksmith_transparent = false%}{%if _b%}{%assign locksmith_transparent = true%}{%elsif _e == false and _l == 'resource'%}{%assign locksmith_transparent = true%}{%elsif _0 == false and _l == 'link_to_resource'%}{%assign locksmith_transparent = true%}{%endif%}{%assign _c = _4|split:'.'|first%}{%if _c == 'product'%}{%capture locksmith_current_path%}{%if _3%}/collections/{{_3.handle}}{%endif%}/products/{{_8.handle}}{%endcapture%}{%elsif _c == 'collection'%}{%capture locksmith_current_path%}/collections/{{_3.handle}}{%endcapture%}{%elsif _c == 'page'%}{%assign locksmith_current_path = _h.url%}{%elsif _c == 'blog'%}{%assign locksmith_current_path = _k.url%}{%elsif _c == 'article'%}{%assign locksmith_current_path = _9.url%}{%elsif _4 == 'customers/login'%}{%assign locksmith_current_path = '/account/login'%}{%elsif _4 == 'customers/register'%}{%assign locksmith_current_path = '/account/register'%}{%elsif _4 == 'index'%}{%assign locksmith_current_path = '/'%}{%elsif _4 == 'list-collections'%}{%assign locksmith_current_path = '/collections'%}{%elsif _4 == 'cart'%}{%assign locksmith_current_path = '/cart'%}{%endif%}{%capture locksmith_json%}
<script type="application/vnd.locksmith+json">{
  "version": "v4.8",
  "locked": {{locksmith_locked}},
  "scope": "{{locksmith_scope}}",
  "access_granted": {{locksmith_access_granted}},
  "access_denied": {{locksmith_access_denied}},
  "manual_lock": {{locksmith_manual_lock}},
  "server_lock": {{locksmith_server_lock}},
  "hide_resource": {{locksmith_hide_resource}},
  "hide_links_to_resource": {{locksmith_hide_links_to_resource}},
  "locks": {
    "all": [{{locksmith_lock_ids|join:', '}}],
    "opened": [{{locksmith_opened_lock_ids|join:', '}}]
  },
  "keys": [{{locksmith_key_ids|join:', '}}],
  "state": {
    "template": "{{_4}}",
    "theme": {{_d.id}},
    "product": {%if _8%}"{{_8.handle}}"{%else%}null{%endif%},
    "collection": {%if _3%}"{{_3.handle}}"{%else%}null{%endif%},
    "page": {%if _h%}"{{_h.handle}}"{%else%}null{%endif%},
    "blog": {%if _k%}"{{_k.handle}}"{%else%}null{%endif%},
    "article": {%if _9%}"{{_9.id}}"{%else%}null{%endif%},
    "app": {%if locksmith_scope == "app" and app%}"{{app}}"{%else%}null{%endif%}
  },
  "shop": {
    "customer_accounts_enabled": {{_g.customer_accounts_enabled}}
  },
  "now": {{"now"|date:"%s"}},
  "current_path": {%if locksmith_current_path%}"{{locksmith_current_path}}"{%else%}null{%endif%}
}</script>
{%endcapture%}{%endcapture%}